<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Robert Nuske" />

<meta name="date" content="2021-02-02" />

<title>Parameterized Letters for Mass Mailings</title>


<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Parameterized Letters for Mass Mailings</h1>
<h4 class="author">Robert Nuske</h4>
<h4 class="date">2021-02-02</h4>



<p>Mail merge is just a variant of R Markdown’s parametrized reports when using <code>komaletter</code>. The process is similar to mail merge in traditional word processing applications:</p>
<ul>
<li>compile information of recipients</li>
<li>write template letter with corresponding parameters</li>
<li>combine template letter and recipient’s information</li>
</ul>
<div id="basics-of-mail-merge-with-komaletter" class="section level2">
<h2>Basics of Mail Merge with <code>komaletter</code></h2>
<p>To personalize letters for mass mailings, you can include one or more parameters in a <code>komaletter</code>. These parameters need to be declared and put to use later in the document. You can assign various values to the parameters when you render the report.</p>
<div id="declaring-parameters" class="section level3">
<h3>Declaring Parameters</h3>
<p>Parameters are declared using the <code>params</code> field within the YAML metadata header. You can specify one or more parameters with each item on a new line.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="op">---</span></a>
<a class="sourceLine" id="cb1-2" title="2">params<span class="op">:</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="st">  </span>name<span class="op">:</span><span class="st"> </span>John</a>
<a class="sourceLine" id="cb1-4" title="4">  gift<span class="op">:</span><span class="st"> </span>candlestick</a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6">output<span class="op">:</span><span class="st"> </span>komaletter<span class="op">::</span>komaletter</a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">---</span></a></code></pre></div>
</div>
<div id="using-parameters" class="section level3">
<h3>Using Parameters</h3>
<p>The declared parameters are automatically made available within the knit environment as components of the read-only list <code>params</code>. For example, the values of the above parameters can be accessed with the following R Code:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">params<span class="op">$</span>name</a>
<a class="sourceLine" id="cb2-2" title="2">params<span class="op">$</span>gift</a></code></pre></div>
<p>If the value of a parameter shall be used in the YAML metadata header, the Parameter must be declared previously. Since the backtick ` is a reserved character in YAML, the inline R Code snippet has to be wrapped in quotes.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="op">---</span></a>
<a class="sourceLine" id="cb3-2" title="2">params<span class="op">:</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="st">  </span>name<span class="op">:</span><span class="st"> </span>John</a>
<a class="sourceLine" id="cb3-4" title="4">  gift<span class="op">:</span><span class="st"> </span>candlestick</a>
<a class="sourceLine" id="cb3-5" title="5">  </a>
<a class="sourceLine" id="cb3-6" title="6">subject<span class="op">:</span><span class="st"> &quot;`r params$gift`&quot;</span></a>
<a class="sourceLine" id="cb3-7" title="7"></a>
<a class="sourceLine" id="cb3-8" title="8">output<span class="op">:</span><span class="st"> </span>komaletter<span class="op">::</span>komaletter</a>
<a class="sourceLine" id="cb3-9" title="9"><span class="op">---</span></a></code></pre></div>
</div>
<div id="setting-parameter-values" class="section level3">
<h3>Setting Parameter values</h3>
<p>To set the parameter values, you can add the <code>params</code> argument to <code>rmarkdown::render</code>. If a parameter does not get a value, the default defined during parameter declaration is used (eg. <code>John</code>, <code>candlestick</code>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">rmarkdown<span class="op">::</span><span class="kw">render</span>(<span class="st">&quot;example.Rmd&quot;</span>, <span class="dt">params=</span><span class="kw">list</span>(<span class="dt">name=</span><span class="st">&quot;Jane&quot;</span>))</a></code></pre></div>
</div>
</div>
<div id="challenges-of-mail-merge-with-komaletter" class="section level2">
<h2>Challenges of Mail Merge with <code>komaletter</code></h2>
<p>R Markdown and thus <code>komaletter</code> combines R Code, YAML and Markdown. R Markdown documents are processed by <code>knitr</code> to pure YAML and Markdown which in turn is send to pandoc for conversion to the final document type (pdf in this case). A parametrized letter has to obey the restrictions of all parts involved.</p>
<p>The most common personalization are the address of the recipient and the salutation or opening. <code>komaletter</code> expects the address to be a YAML sequence within the YAML metadata header. YAML sequences can be written in flow or block style. Both need quotation marks to protect the square brackets or to enable the escape code <code>\n</code> during parameter declaration in the YAML metadata.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="op">---</span></a>
<a class="sourceLine" id="cb5-2" title="2">params<span class="op">:</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="st">  </span><span class="co"># scalar:</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="st">  </span>name<span class="op">:</span><span class="st"> </span>John Doe</a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="co"># flow style sequence:</span></a>
<a class="sourceLine" id="cb5-6" title="6">  address_flow<span class="op">:</span><span class="st"> &quot;[FirstName LastName, 123 Main St, Anytown]&quot;</span></a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="co"># block style sequence:</span></a>
<a class="sourceLine" id="cb5-8" title="8">  address_block<span class="op">:</span><span class="st"> &quot;</span><span class="ch">\n</span><span class="st">  - FirstName LastName</span><span class="ch">\n</span><span class="st">  - 123 Main St</span><span class="ch">\n</span><span class="st">  - Anytown&quot;</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="op">---</span></a></code></pre></div>
<p>Since the address and the letter opening are defined in the YAML metadata. The corresponding parameters must be declared and afterwards put to use within the YAML metadata. Parameter values are accessed in R Code. In the YAML metadata header this means inline code snippets <code>`r expression`</code>. Since backticks <code>`</code> are ‘reserved indicators’ in YAML, the code snippet usually needs to be wrapped in quotes.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="op">---</span></a>
<a class="sourceLine" id="cb6-2" title="2">params<span class="op">:</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="st">  </span>name<span class="op">:</span><span class="st"> </span>John Doe</a>
<a class="sourceLine" id="cb6-4" title="4">  </a>
<a class="sourceLine" id="cb6-5" title="5">opening<span class="op">:</span><span class="st"> &quot;`r paste0(&#39;Dear &#39;, params$name, &#39;,&#39;)`&quot;</span></a>
<a class="sourceLine" id="cb6-6" title="6"></a>
<a class="sourceLine" id="cb6-7" title="7">output<span class="op">:</span><span class="st"> </span>komaletter<span class="op">::</span>komaletter</a>
<a class="sourceLine" id="cb6-8" title="8"><span class="op">---</span></a></code></pre></div>
<p>The result of the quoted R expression <code>&quot;`r expression`&quot;</code> is a value enclosed in double quotes, i.e. <code>&quot;value&quot;</code>, which is not harmful if the result is of R type character corresponding to a YAML scalar. YAML scalars can be enclosed in single or double quotes or not wrapped at all. But everything in quotes is a scalar to YAML.</p>
<p>Consequently this means that expressions that are supposed to supply an address and thus a YAML sequence, must not be enclosed in quotes! Which poses a main problem since we learned above inline code snippets need to be enclosed in quotes in the main YAML metadata header.</p>
</div>
<div id="solution" class="section level2">
<h2>Solution</h2>
<p>Or rather a <strong>hack</strong> found as bycatch at <a href="https://stackoverflow.com/a/31862074">stackoverflow</a> circumventing the issue at the moment.</p>
<p>As explained above, the address is a YAML sequence and sequences can not be enclosed in quotes. To access the parameter in the main YAML metadata header the inline R Code snippet has to be wrapped in quotes and R expressions wrapped in quotes evaluate to a value enclosed in quotes.</p>
<p>Mysteriously, the rule that backticks must be enclosed in quotes is not enforced in a second YAML metadata block. You can use two metadata blocks because Pandoc combines YAML metadata blocks while converting the .md file to the final document. So in a second metadata block the inline R Code snippet can be written without quotes resulting in a correctly formatted YAML sequence.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="op">---</span></a>
<a class="sourceLine" id="cb7-2" title="2">author<span class="op">:</span><span class="st"> </span>Max Mustermann</a>
<a class="sourceLine" id="cb7-3" title="3">return<span class="op">-</span>address<span class="op">:</span><span class="st"> </span>[Musterstr. <span class="dv">12</span>, <span class="dv">34567</span> Musterstadt]</a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5">params<span class="op">:</span><span class="st"> </span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="st">  </span>name<span class="op">:</span><span class="st"> </span>John</a>
<a class="sourceLine" id="cb7-7" title="7">  address<span class="op">:</span><span class="st"> &quot;[John Doe, 123 Main St, Anytown]&quot;</span></a>
<a class="sourceLine" id="cb7-8" title="8">  gift<span class="op">:</span><span class="st"> </span>candlestick</a>
<a class="sourceLine" id="cb7-9" title="9"></a>
<a class="sourceLine" id="cb7-10" title="10">output<span class="op">:</span><span class="st"> </span>komaletter<span class="op">::</span>komaletter</a>
<a class="sourceLine" id="cb7-11" title="11"><span class="op">---</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="op">---</span></a>
<a class="sourceLine" id="cb7-13" title="13">address<span class="op">:</span><span class="st"> `</span><span class="dt">r params$address</span><span class="st">`</span></a>
<a class="sourceLine" id="cb7-14" title="14">opening<span class="op">:</span><span class="st"> `</span><span class="dt">r paste0(&#39;Dear &#39;, params$name, &#39;,&#39;)</span><span class="st">`</span></a>
<a class="sourceLine" id="cb7-15" title="15">closing<span class="op">:</span><span class="st"> &quot;Yours truly,&quot;</span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="op">---</span></a>
<a class="sourceLine" id="cb7-17" title="17"></a>
<a class="sourceLine" id="cb7-18" title="18">thank you very much <span class="cf">for</span> the beautiful <span class="st">`</span><span class="dt">r params$gift</span><span class="st">`</span>. It was a pleasure to have you.</a></code></pre></div>
<p>The template letter above can then be called with various values</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">recipients &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">name=</span><span class="kw">c</span>(<span class="st">&quot;Megan&quot;</span>, <span class="st">&quot;Bob&quot;</span>),</a>
<a class="sourceLine" id="cb8-2" title="2">                         <span class="dt">gift=</span><span class="kw">c</span>(<span class="st">&quot;candlestick&quot;</span>, <span class="st">&quot;flowers&quot;</span>),</a>
<a class="sourceLine" id="cb8-3" title="3">                         <span class="dt">address=</span><span class="kw">c</span>(<span class="st">&quot;[Megan Smith, 4156 Tincidunt Ave, Green Bay Indiana 19759]&quot;</span>,</a>
<a class="sourceLine" id="cb8-4" title="4">                                   <span class="st">&quot;[Robert Pitts, 5543 Aliquet St, Fort Dodge GA 20783]&quot;</span>),</a>
<a class="sourceLine" id="cb8-5" title="5">                         <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb8-6" title="6"></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(recipients)){</a>
<a class="sourceLine" id="cb8-8" title="8">  rmarkdown<span class="op">::</span><span class="kw">render</span>(<span class="st">&quot;template_letter.Rmd&quot;</span>, </a>
<a class="sourceLine" id="cb8-9" title="9">                    <span class="dt">params=</span><span class="kw">list</span>(<span class="dt">name=</span>recipients[i, <span class="st">&quot;name&quot;</span>], </a>
<a class="sourceLine" id="cb8-10" title="10">                                <span class="dt">gift=</span>recipients[i, <span class="st">&quot;gift&quot;</span>], </a>
<a class="sourceLine" id="cb8-11" title="11">                                <span class="dt">address=</span>recipients[i, <span class="st">&quot;address&quot;</span>]),</a>
<a class="sourceLine" id="cb8-12" title="12">                    <span class="dt">output_file=</span><span class="kw">paste0</span>(<span class="st">&quot;letter_&quot;</span>, recipients[i, <span class="st">&#39;name&#39;</span>], <span class="st">&quot;.pdf&quot;</span>))</a>
<a class="sourceLine" id="cb8-13" title="13">}</a></code></pre></div>
</div>
<div id="further-information" class="section level2">
<h2>Further Information</h2>
<ul>
<li>R Markdown
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown/parameterized-reports.html">Chapter “Parametrized Reports”</a> in the book “R Markdown: The Definitive Guide”</li>
<li><a href="https://rmarkdown.rstudio.com/lesson-6.html">Lesson 6 “Parameters”</a> in “Get Started”-Course on RStudio’s R Markdown website</li>
</ul></li>
<li>YAML
<ul>
<li><a href="https://yaml.org/refcard.html">YAML Reference card</a> (Scalar indicators, Escape codes, Misc. Indicators for reserved indicators)</li>
<li><a href="https://yaml.org/spec/current.html">YAML Specification</a> (Syntax, Indicator Characters: reserved characters, Escape Sequences, Scalar Styles, Sequence Styles)</li>
<li><a href="https://yaml.org/spec/current.html#id2543032">YAML block sequence</a></li>
<li><a href="https://yaml.org/spec/current.html#id2542413">YAML flow sequence</a></li>
</ul></li>
</ul>
</div>
<div id="hints" class="section level2">
<h2>Hints</h2>
<p>Since parameters are evaluated roughly speaking during document knitting (conversion from <code>.Rmd</code> to <code>.md</code>), it is helpful to look at the intermediate <code>.md</code> files to hunt down issues in parameterized letters.</p>
<p><code>komaletter</code> is based on the R Markdown output format <code>pdf_document</code> which in contrast to other formats (html_document, word_document, odt_document) has no argument to keep the intermediate <code>.md</code> files created by <code>knitr</code>.</p>
<p>But <code>rmarkdown::render(..., clean=FALSE)</code> causes the intermediate .md files to remain available.</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
